# =============================================================================
# NedaPay Backend API - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=4000
HOST=0.0.0.0

# API version prefix
API_VERSION=v1

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://nedapay.xyz

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://user:password@localhost:5432/nedapay?schema=public"
DIRECT_URL="postgresql://user:password@localhost:5432/nedapay?schema=public"

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# JWT Configuration
JWT_SECRET="your-jwt-secret-key-min-32-chars"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# Privy Configuration
PRIVY_APP_ID="your-privy-app-id"
PRIVY_APP_SECRET="your-privy-app-secret"
PRIVY_JWKS_ENDPOINT="https://auth.privy.io/api/v1/apps/YOUR_APP_ID/.well-known/jwks.json"

# -----------------------------------------------------------------------------
# Encryption & Security
# -----------------------------------------------------------------------------
# Master encryption key (32 bytes, base64 encoded)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY="your-32-byte-encryption-key-base64"

# Context-specific encryption keys (optional, falls back to ENCRYPTION_KEY)
IDRX_ENC_KEY="your-idrx-encryption-key-base64"
API_CREDENTIALS_KEY="your-api-credentials-key-base64"
USER_SECRETS_KEY="your-user-secrets-key-base64"

# API Key hashing salt (for user API keys)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY_SALT="your-api-key-salt-hex"

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=combined

# -----------------------------------------------------------------------------
# External Services - IDRX
# -----------------------------------------------------------------------------
IDRXCO_API_KEY="your-idrxco-api-key"
IDRXCO_SECRET_KEY="your-idrxco-secret-key"
IDRXCO_API_URL="https://idrx.co/api"

# -----------------------------------------------------------------------------
# External Services - Yellow Card
# -----------------------------------------------------------------------------
YELLOWCARD_API_KEY="your-yellowcard-api-key"
YELLOWCARD_SECRET_KEY="your-yellowcard-secret-key"
YELLOWCARD_API_URL="https://api.yellowcard.io"

# -----------------------------------------------------------------------------
# External Services - Paycrest
# -----------------------------------------------------------------------------
PAYCREST_CLIENT_ID="your-paycrest-client-id"
PAYCREST_CLIENT_SECRET="your-paycrest-client-secret"
PAYCREST_API_URL="https://api.paycrest.io"

# -----------------------------------------------------------------------------
# External Services - Pretium
# -----------------------------------------------------------------------------
PRETIUM_BASE_URL="https://api.xwift.africa"
PRETIUM_API_KEY="your-pretium-api-key"
PRETIUM_WEBHOOK_SECRET="your-pretium-webhook-secret"

# -----------------------------------------------------------------------------
# External Services - Smile ID (KYC)
# -----------------------------------------------------------------------------
SMILE_ID_PARTNER_ID="your-smile-id-partner-id"
SMILE_ID_API_KEY="your-smile-id-api-key"
SMILE_ID_SID_SERVER="https://api.smileidentity.com"

# -----------------------------------------------------------------------------
# External Services - Sumsub (KYC)
# -----------------------------------------------------------------------------
SUMSUB_APP_TOKEN="your-sumsub-app-token"
SUMSUB_SECRET_KEY="your-sumsub-secret-key"
SUMSUB_BASE_URL="https://api.sumsub.com"

# -----------------------------------------------------------------------------
# External Services - cNGN
# -----------------------------------------------------------------------------
CNGN_API_KEY="your-cngn-api-key"
CNGN_SECRET_KEY="your-cngn-secret-key"
CNGN_API_URL="https://api.cngn.io"

# -----------------------------------------------------------------------------
# Email Service (Resend)
# -----------------------------------------------------------------------------
RESEND_API_KEY="re_your_resend_api_key"
RESEND_FROM_EMAIL="noreply@nedapay.xyz"
RESEND_FROM_NAME="NedaPay"
# Optional: Context-specific sender emails
RESEND_INVOICE_EMAIL="invoices@nedapay.xyz"
RESEND_KYC_EMAIL="kyc@nedapay.xyz"

# -----------------------------------------------------------------------------
# Redis (for caching and rate limiting)
# -----------------------------------------------------------------------------
REDIS_URL="redis://localhost:6379"
KV_REST_API_URL="https://your-redis.upstash.io"
KV_REST_API_TOKEN="your-upstash-token"

# -----------------------------------------------------------------------------
# Admin Configuration
# -----------------------------------------------------------------------------
ADMIN_WALLET_1="0x..."
ADMIN_WALLET_2="0x..."
ADMIN_PASSWORD="your-admin-password"

# -----------------------------------------------------------------------------
# Webhook URLs
# -----------------------------------------------------------------------------
WEBHOOK_BASE_URL="https://api.nedapay.xyz"
